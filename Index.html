<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #d4d4d4; -webkit-text-stroke: #d4d4d4}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #b76ff7; -webkit-text-stroke: #b76ff7}
    span.s1 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s2 {font-kerning: none; background-color: #171818}
    span.s3 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s4 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s5 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s6 {font-kerning: none}
    span.s7 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s8 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s9 {font: 14.0px 'Apple Color Emoji'; font-kerning: none; background-color: #171818}
    span.s10 {font: 14.0px 'Apple Color Emoji'; font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s11 {font-kerning: none; color: #ee2e38; background-color: #171818; -webkit-text-stroke: 0px #ee2e38}
    span.s12 {font: 14.0px 'Apple Color Emoji'; font-kerning: none; color: #ee2e38; background-color: #171818; -webkit-text-stroke: 0px #ee2e38}
  </style>
</head>
<body>
<p class="p1"><span class="s1">import</span><span class="s2"> </span><span class="s3">React</span><span class="s4">,</span><span class="s2"> </span><span class="s4">{</span><span class="s2"> useState</span><span class="s4">,</span><span class="s2"> useEffect</span><span class="s4">,</span><span class="s2"> useMemo</span><span class="s4">,</span><span class="s2"> useCallback </span><span class="s4">}</span><span class="s2"> </span><span class="s1">from</span><span class="s2"> </span><span class="s5">'react'</span><span class="s4">;</span></p>
<p class="p1"><span class="s1">import</span><span class="s2"> </span><span class="s4">{</span><span class="s2"> initializeApp </span><span class="s4">}</span><span class="s2"> </span><span class="s1">from</span><span class="s2"> </span><span class="s5">'firebase/app'</span><span class="s4">;</span></p>
<p class="p1"><span class="s1">import</span><span class="s2"> </span><span class="s4">{</span><span class="s2"> getAuth</span><span class="s4">,</span><span class="s2"> signInAnonymously</span><span class="s4">,</span><span class="s2"> signInWithCustomToken</span><span class="s4">,</span><span class="s2"> onAuthStateChanged </span><span class="s4">}</span><span class="s2"> </span><span class="s1">from</span><span class="s2"> </span><span class="s5">'firebase/auth'</span><span class="s4">;</span></p>
<p class="p1"><span class="s1">import</span><span class="s2"> </span><span class="s4">{</span><span class="s2"> getFirestore</span><span class="s4">,</span><span class="s2"> doc</span><span class="s4">,</span><span class="s2"> setDoc</span><span class="s4">,</span><span class="s2"> getDoc</span><span class="s4">,</span><span class="s2"> onSnapshot</span><span class="s4">,</span><span class="s2"> collection</span><span class="s4">,</span><span class="s2"> updateDoc</span><span class="s4">,</span><span class="s2"> arrayUnion </span><span class="s4">}</span><span class="s2"> </span><span class="s1">from</span><span class="s2"> </span><span class="s5">'firebase/firestore'</span><span class="s4">;</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s2">// --- CONFIGURACIN DE FIREBASE ---</span></p>
<p class="p1"><span class="s1">const</span><span class="s2"> appId </span><span class="s4">=</span><span class="s2"> </span><span class="s1">typeof</span><span class="s2"> __app_id </span><span class="s4">!==</span><span class="s2"> </span><span class="s5">'undefined'</span><span class="s2"> </span><span class="s4">?</span><span class="s2"> __app_id </span><span class="s4">:</span><span class="s2"> </span><span class="s5">'eco-heroe-app'</span><span class="s4">;</span></p>
<p class="p1"><span class="s1">const</span><span class="s2"> firebaseConfig </span><span class="s4">=</span><span class="s2"> </span><span class="s1">typeof</span><span class="s2"> __firebase_config </span><span class="s4">!==</span><span class="s2"> </span><span class="s5">'undefined'</span><span class="s2"> </span><span class="s4">?</span><span class="s2"> </span><span class="s3">JSON</span><span class="s4">.</span><span class="s2">parse</span><span class="s4">(</span><span class="s2">__firebase_config</span><span class="s4">)</span><span class="s2"> </span><span class="s4">:</span><span class="s2"> </span><span class="s1">null</span><span class="s4">;</span></p>
<p class="p1"><span class="s1">const</span><span class="s2"> initialAuthToken </span><span class="s4">=</span><span class="s2"> </span><span class="s1">typeof</span><span class="s2"> __initial_auth_token </span><span class="s4">!==</span><span class="s2"> </span><span class="s5">'undefined'</span><span class="s2"> </span><span class="s4">?</span><span class="s2"> __initial_auth_token </span><span class="s4">:</span><span class="s2"> </span><span class="s1">null</span><span class="s4">;</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s2">// Componente principal de la aplicaci贸n</span></p>
<p class="p4"><span class="s1">const</span><span class="s7"> </span><span class="s3">App</span><span class="s7"> </span><span class="s2">=</span><span class="s7"> </span><span class="s2">()</span><span class="s7"> </span><span class="s2">=&gt;</span><span class="s7"> </span><span class="s2">{</span></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// Estados de la aplicaci贸n</span></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s7"> </span><span class="s4">[</span><span class="s7">page</span><span class="s4">,</span><span class="s7"> setPage</span><span class="s4">]</span><span class="s7"> </span><span class="s4">=</span><span class="s7"> useState</span><span class="s4">(</span><span class="s5">'home'</span><span class="s4">);</span><span class="s7"> </span><span class="s2">// 'home', 'tasks', 'rewards'</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">userId</span><span class="s4">,</span><span class="s2"> setUserId</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">(</span><span class="s1">null</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">appInitialized</span><span class="s4">,</span><span class="s2"> setAppInitialized</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">(</span><span class="s1">false</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">points</span><span class="s4">,</span><span class="s2"> setPoints</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">(</span><span class="s8">0</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">tasks</span><span class="s4">,</span><span class="s2"> setTasks</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">([]);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">db</span><span class="s4">,</span><span class="s2"> setDb</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">(</span><span class="s1">null</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">auth</span><span class="s4">,</span><span class="s2"> setAuth</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">(</span><span class="s1">null</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">notification</span><span class="s4">,</span><span class="s2"> setNotification</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">({</span><span class="s2"> message</span><span class="s4">:</span><span class="s2"> </span><span class="s5">''</span><span class="s4">,</span><span class="s2"> </span><span class="s1">type</span><span class="s4">:</span><span class="s2"> </span><span class="s5">''</span><span class="s2"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s4">[</span><span class="s2">loading</span><span class="s4">,</span><span class="s2"> setLoading</span><span class="s4">]</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useState</span><span class="s4">(</span><span class="s1">false</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// Definici贸n de tareas EXCLUSIVAS de reciclaje y acci贸n ecol贸gica</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">BASE_TASKS</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useMemo</span><span class="s4">(()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">[</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'recycle_plastic_bottles'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclar 10 botellas PET de pl谩stico (limpias y aplastadas)'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclaje'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">50</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'blue'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'recycle_carton_boxes'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclar una pila de cart贸n y cajas de embalaje'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclaje'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">40</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'brown'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'eco_compost'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Separar residuos org谩nicos para compostaje'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Acci贸n Eco'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">30</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'green'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'recycle_glass_jars'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclar 5 envases de vidrio (sin tapas)'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclaje'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">60</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'cyan'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'eco_water_save'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reducir el tiempo de la ducha a menos de 5 minutos hoy'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Acci贸n Eco'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">25</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'indigo'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'eco_battery_disposal'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Llevar 5 pilas usadas a un punto de acopio oficial'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Reciclaje'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">75</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'yellow'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'eco_no_straw'</span><span class="s4">,</span><span class="s7"> text</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Rechazar el uso de pitillos/pajitas de pl谩stico hoy'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Acci贸n Eco'</span><span class="s4">,</span><span class="s7"> points</span><span class="s4">:</span><span class="s7"> </span><span class="s8">15</span><span class="s4">,</span><span class="s7"> color</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'emerald'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p4"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">],</span><span class="s7"> </span><span class="s2">[]);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// Definici贸n de recompensas tem谩ticas (simulaci贸n)</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">REWARDS</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> useMemo</span><span class="s4">(()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">[</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'reward_pencil'</span><span class="s4">,</span><span class="s7"> name</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'L谩piz/Bol铆grafo Ecol贸gico'</span><span class="s4">,</span><span class="s7"> cost</span><span class="s4">:</span><span class="s7"> </span><span class="s8">100</span><span class="s4">,</span><span class="s7"> emoji</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'</span><span class="s9">锔</span><span class="s2">'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'reward_seed_kit'</span><span class="s4">,</span><span class="s7"> name</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Kit de Semillas para plantar'</span><span class="s4">,</span><span class="s7"> cost</span><span class="s4">:</span><span class="s7"> </span><span class="s8">250</span><span class="s4">,</span><span class="s7"> emoji</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'</span><span class="s9"></span><span class="s2">'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'reward_bottle'</span><span class="s4">,</span><span class="s7"> name</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Botella Reutilizable Personalizada'</span><span class="s4">,</span><span class="s7"> cost</span><span class="s4">:</span><span class="s7"> </span><span class="s8">500</span><span class="s4">,</span><span class="s7"> emoji</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'</span><span class="s9"></span><span class="s2">'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">{</span><span class="s7"> id</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'reward_shirt'</span><span class="s4">,</span><span class="s7"> name</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Camiseta de Eco-H茅roe del Colegio'</span><span class="s4">,</span><span class="s7"> cost</span><span class="s4">:</span><span class="s7"> </span><span class="s8">1000</span><span class="s4">,</span><span class="s7"> emoji</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'</span><span class="s9"></span><span class="s2">'</span><span class="s7"> </span><span class="s4">},</span></p>
<p class="p4"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">],</span><span class="s7"> </span><span class="s2">[]);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// --- FIREBASE Y AUTENTICACIN ---</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> initializeFirebase </span><span class="s4">=</span><span class="s2"> useCallback</span><span class="s4">(</span><span class="s1">async</span><span class="s2"> </span><span class="s4">()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(!</span><span class="s2">firebaseConfig</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s7"> message</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Error: Configuraci贸n de Firebase no disponible.'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'error'</span><span class="s7"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">return</span><span class="s4">;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">try</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> app </span><span class="s4">=</span><span class="s2"> initializeApp</span><span class="s4">(</span><span class="s2">firebaseConfig</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> firestore </span><span class="s4">=</span><span class="s2"> getFirestore</span><span class="s4">(</span><span class="s2">app</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> authInstance </span><span class="s4">=</span><span class="s2"> getAuth</span><span class="s4">(</span><span class="s2">app</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setDb</span><span class="s4">(</span><span class="s2">firestore</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setAuth</span><span class="s4">(</span><span class="s2">authInstance</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> unsubscribe </span><span class="s4">=</span><span class="s2"> onAuthStateChanged</span><span class="s4">(</span><span class="s2">authInstance</span><span class="s4">,</span><span class="s2"> </span><span class="s1">async</span><span class="s2"> </span><span class="s4">(</span><span class="s2">currentUser</span><span class="s4">)</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(</span><span class="s2">currentUser</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>setUserId</span><span class="s4">(</span><span class="s2">currentUser</span><span class="s4">.</span><span class="s2">uid</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s1">const</span><span class="s2"> userRef </span><span class="s4">=</span><span class="s2"> doc</span><span class="s4">(</span><span class="s2">firestore</span><span class="s4">,</span><span class="s2"> </span><span class="s5">`artifacts/</span><span class="s4">${</span><span class="s2">appId</span><span class="s4">}</span><span class="s5">/users/</span><span class="s4">${</span><span class="s2">currentUser</span><span class="s4">.</span><span class="s2">uid</span><span class="s4">}</span><span class="s5">/data/profile`</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s1">const</span><span class="s2"> docSnap </span><span class="s4">=</span><span class="s2"> </span><span class="s1">await</span><span class="s2"> getDoc</span><span class="s4">(</span><span class="s2">userRef</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(!</span><span class="s2">docSnap</span><span class="s4">.</span><span class="s2">exists</span><span class="s4">())</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s1">await</span><span class="s2"> setDoc</span><span class="s4">(</span><span class="s2">userRef</span><span class="s4">,</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>points</span><span class="s4">:</span><span class="s2"> </span><span class="s8">0</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>lastLogin</span><span class="s4">:</span><span class="s2"> </span><span class="s1">new</span><span class="s2"> </span><span class="s3">Date</span><span class="s4">().</span><span class="s2">toISOString</span><span class="s4">(),</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">              </span>currentTasks</span><span class="s4">:</span><span class="s2"> </span><span class="s3">BASE_TASKS</span><span class="s4">.</span><span class="s2">map</span><span class="s4">(</span><span class="s2">task </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> </span><span class="s4">...</span><span class="s2">task</span><span class="s4">,</span><span class="s2"> completed</span><span class="s4">:</span><span class="s2"> </span><span class="s1">false</span><span class="s2"> </span><span class="s4">}))</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>setTasks</span><span class="s4">(</span><span class="s3">BASE_TASKS</span><span class="s4">.</span><span class="s2">map</span><span class="s4">(</span><span class="s2">task </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> </span><span class="s4">...</span><span class="s2">task</span><span class="s4">,</span><span class="s2"> completed</span><span class="s4">:</span><span class="s2"> </span><span class="s1">false</span><span class="s2"> </span><span class="s4">})));</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>setPoints</span><span class="s4">(</span><span class="s8">0</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">}</span></p>
<p class="p2"><span class="s2"><span class="Apple-converted-space">         </span></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>setAppInitialized</span><span class="s4">(</span><span class="s1">true</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">else</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(</span><span class="s2">initialAuthToken</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s1">await</span><span class="s2"> signInWithCustomToken</span><span class="s4">(</span><span class="s2">authInstance</span><span class="s4">,</span><span class="s2"> initialAuthToken</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">else</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s1">await</span><span class="s2"> signInAnonymously</span><span class="s4">(</span><span class="s2">authInstance</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">});</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">return</span><span class="s2"> unsubscribe</span><span class="s4">;</span><span class="s2"><span class="Apple-converted-space"></span></span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">catch</span><span class="s2"> </span><span class="s4">(</span><span class="s2">e</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span>console</span><span class="s4">.</span><span class="s7">error</span><span class="s4">(</span><span class="s2">"Error al inicializar o autenticar Firebase:"</span><span class="s4">,</span><span class="s7"> e</span><span class="s4">);</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s7"> message</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Error de conexi贸n. Verifica tu red.'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'error'</span><span class="s7"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setAppInitialized</span><span class="s4">(</span><span class="s1">true</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span></p>
<p class="p6"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s4">},</span><span class="s7"> </span><span class="s4">[</span><span class="s2">BASE_TASKS</span><span class="s4">]);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>useEffect</span><span class="s4">(()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>initializeFirebase</span><span class="s4">();</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">},</span><span class="s2"> </span><span class="s4">[</span><span class="s2">initializeFirebase</span><span class="s4">]);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// --- SUSCRIPCIN EN TIEMPO REAL ---</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span>useEffect</span><span class="s4">(()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(</span><span class="s2">db </span><span class="s4">&amp;&amp;</span><span class="s2"> userId</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> userRef </span><span class="s4">=</span><span class="s2"> doc</span><span class="s4">(</span><span class="s2">db</span><span class="s4">,</span><span class="s2"> </span><span class="s5">`artifacts/</span><span class="s4">${</span><span class="s2">appId</span><span class="s4">}</span><span class="s5">/users/</span><span class="s4">${</span><span class="s2">userId</span><span class="s4">}</span><span class="s5">/data/profile`</span><span class="s4">);</span></p>
<p class="p2"><span class="s2"><span class="Apple-converted-space">     </span></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> unsubscribe </span><span class="s4">=</span><span class="s2"> onSnapshot</span><span class="s4">(</span><span class="s2">userRef</span><span class="s4">,</span><span class="s2"> </span><span class="s4">(</span><span class="s2">docSnap</span><span class="s4">)</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(</span><span class="s2">docSnap</span><span class="s4">.</span><span class="s2">exists</span><span class="s4">())</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s1">const</span><span class="s2"> data </span><span class="s4">=</span><span class="s2"> docSnap</span><span class="s4">.</span><span class="s2">data</span><span class="s4">();</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>setPoints</span><span class="s4">(</span><span class="s2">data</span><span class="s4">.</span><span class="s2">points </span><span class="s4">||</span><span class="s2"> </span><span class="s8">0</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>setTasks</span><span class="s4">(</span><span class="s2">data</span><span class="s4">.</span><span class="s2">currentTasks </span><span class="s4">||</span><span class="s2"> </span><span class="s3">BASE_TASKS</span><span class="s4">.</span><span class="s2">map</span><span class="s4">(</span><span class="s2">task </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> </span><span class="s4">...</span><span class="s2">task</span><span class="s4">,</span><span class="s2"> completed</span><span class="s4">:</span><span class="s2"> </span><span class="s1">false</span><span class="s2"> </span><span class="s4">})));</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">},</span><span class="s2"> </span><span class="s4">(</span><span class="s2">error</span><span class="s4">)</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span>console</span><span class="s4">.</span><span class="s7">error</span><span class="s4">(</span><span class="s2">"Error al escuchar cambios en Firestore:"</span><span class="s4">,</span><span class="s7"> error</span><span class="s4">);</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span>setNotification</span><span class="s4">({</span><span class="s7"> message</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Error al cargar datos en tiempo real.'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'error'</span><span class="s7"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">});</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">return</span><span class="s2"> </span><span class="s4">()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> unsubscribe</span><span class="s4">();</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">},</span><span class="s2"> </span><span class="s4">[</span><span class="s2">db</span><span class="s4">,</span><span class="s2"> userId</span><span class="s4">,</span><span class="s2"> </span><span class="s3">BASE_TASKS</span><span class="s4">]);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// --- MANEJO DE TAREAS Y PUNTOS ---</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> handleCompleteTask </span><span class="s4">=</span><span class="s2"> </span><span class="s1">async</span><span class="s2"> </span><span class="s4">(</span><span class="s2">taskId</span><span class="s4">,</span><span class="s2"> taskPoints</span><span class="s4">)</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(!</span><span class="s2">db </span><span class="s4">||</span><span class="s2"> </span><span class="s4">!</span><span class="s2">userId</span><span class="s4">)</span><span class="s2"> </span><span class="s1">return</span><span class="s4">;</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>setLoading</span><span class="s4">(</span><span class="s1">true</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">const</span><span class="s2"> userRef </span><span class="s4">=</span><span class="s2"> doc</span><span class="s4">(</span><span class="s2">db</span><span class="s4">,</span><span class="s2"> </span><span class="s5">`artifacts/</span><span class="s4">${</span><span class="s2">appId</span><span class="s4">}</span><span class="s5">/users/</span><span class="s4">${</span><span class="s2">userId</span><span class="s4">}</span><span class="s5">/data/profile`</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">try</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">const</span><span class="s2"> newTasks </span><span class="s4">=</span><span class="s2"> tasks</span><span class="s4">.</span><span class="s2">map</span><span class="s4">(</span><span class="s2">t </span><span class="s4">=&gt;</span><span class="s2"><span class="Apple-converted-space"></span></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>t</span><span class="s4">.</span><span class="s2">id </span><span class="s4">===</span><span class="s2"> taskId </span><span class="s4">?</span><span class="s2"> </span><span class="s4">{</span><span class="s2"> </span><span class="s4">...</span><span class="s2">t</span><span class="s4">,</span><span class="s2"> completed</span><span class="s4">:</span><span class="s2"> </span><span class="s1">true</span><span class="s2"> </span><span class="s4">}</span><span class="s2"> </span><span class="s4">:</span><span class="s2"> t</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setTasks</span><span class="s4">(</span><span class="s2">newTasks</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">await</span><span class="s2"> updateDoc</span><span class="s4">(</span><span class="s2">userRef</span><span class="s4">,</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>points</span><span class="s4">:</span><span class="s2"> points </span><span class="s4">+</span><span class="s2"> taskPoints</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>currentTasks</span><span class="s4">:</span><span class="s2"> newTasks</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>completedTasks</span><span class="s4">:</span><span class="s2"> arrayUnion</span><span class="s4">({</span><span class="s2"> taskId</span><span class="s4">,</span><span class="s2"> date</span><span class="s4">:</span><span class="s2"> </span><span class="s1">new</span><span class="s2"> </span><span class="s3">Date</span><span class="s4">().</span><span class="s2">toISOString</span><span class="s4">()</span><span class="s2"> </span><span class="s4">})</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">});</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s2"> message</span><span class="s4">:</span><span class="s2"> </span><span class="s5">`隆Misi贸n cumplida! Ganaste </span><span class="s4">${</span><span class="s2">taskPoints</span><span class="s4">}</span><span class="s5"> Eco-Puntos.`</span><span class="s4">,</span><span class="s2"> </span><span class="s1">type</span><span class="s4">:</span><span class="s2"> </span><span class="s5">'success'</span><span class="s2"> </span><span class="s4">});</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">catch</span><span class="s2"> </span><span class="s4">(</span><span class="s2">error</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>console</span><span class="s4">.</span><span class="s2">error</span><span class="s4">(</span><span class="s5">"Error al completar misi贸n:"</span><span class="s4">,</span><span class="s2"> error</span><span class="s4">);</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s7"> message</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Error al guardar la misi贸n. Intenta de nuevo.'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'error'</span><span class="s7"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">finally</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setLoading</span><span class="s4">(</span><span class="s1">false</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">};</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> handleRedeemReward </span><span class="s4">=</span><span class="s2"> </span><span class="s1">async</span><span class="s2"> </span><span class="s4">(</span><span class="s2">reward</span><span class="s4">)</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(!</span><span class="s2">db </span><span class="s4">||</span><span class="s2"> </span><span class="s4">!</span><span class="s2">userId</span><span class="s4">)</span><span class="s2"> </span><span class="s1">return</span><span class="s4">;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(</span><span class="s2">points </span><span class="s4">&lt;</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">cost</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s2"> message</span><span class="s4">:</span><span class="s2"> </span><span class="s5">`Necesitas </span><span class="s4">${</span><span class="s2">reward</span><span class="s4">.</span><span class="s2">cost </span><span class="s4">-</span><span class="s2"> points</span><span class="s4">}</span><span class="s5"> Eco-Puntos m谩s. 隆A seguir reciclando!`</span><span class="s4">,</span><span class="s2"> </span><span class="s1">type</span><span class="s4">:</span><span class="s2"> </span><span class="s5">'error'</span><span class="s2"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">return</span><span class="s4">;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>setLoading</span><span class="s4">(</span><span class="s1">true</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">const</span><span class="s2"> userRef </span><span class="s4">=</span><span class="s2"> doc</span><span class="s4">(</span><span class="s2">db</span><span class="s4">,</span><span class="s2"> </span><span class="s5">`artifacts/</span><span class="s4">${</span><span class="s2">appId</span><span class="s4">}</span><span class="s5">/users/</span><span class="s4">${</span><span class="s2">userId</span><span class="s4">}</span><span class="s5">/data/profile`</span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">try</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s1">await</span><span class="s2"> updateDoc</span><span class="s4">(</span><span class="s2">userRef</span><span class="s4">,</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>points</span><span class="s4">:</span><span class="s2"> points </span><span class="s4">-</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">cost</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>redeemedRewards</span><span class="s4">:</span><span class="s2"> arrayUnion</span><span class="s4">({</span><span class="s2"> rewardId</span><span class="s4">:</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">id</span><span class="s4">,</span><span class="s2"> name</span><span class="s4">:</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">name</span><span class="s4">,</span><span class="s2"> cost</span><span class="s4">:</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">cost</span><span class="s4">,</span><span class="s2"> date</span><span class="s4">:</span><span class="s2"> </span><span class="s1">new</span><span class="s2"> </span><span class="s3">Date</span><span class="s4">().</span><span class="s2">toISOString</span><span class="s4">()</span><span class="s2"> </span><span class="s4">})</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">});</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s2"> message</span><span class="s4">:</span><span class="s2"> </span><span class="s5">`隆Recompensa canjeada! Reclama tu </span><span class="s4">${</span><span class="s2">reward</span><span class="s4">.</span><span class="s2">name</span><span class="s4">}</span><span class="s5">.`</span><span class="s4">,</span><span class="s2"> </span><span class="s1">type</span><span class="s4">:</span><span class="s2"> </span><span class="s5">'success'</span><span class="s2"> </span><span class="s4">});</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">catch</span><span class="s2"> </span><span class="s4">(</span><span class="s2">error</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>console</span><span class="s4">.</span><span class="s2">error</span><span class="s4">(</span><span class="s5">"Error al canjear recompensa:"</span><span class="s4">,</span><span class="s2"> error</span><span class="s4">);</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span>setNotification</span><span class="s4">({</span><span class="s7"> message</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'Error al canjear. Intenta de nuevo.'</span><span class="s4">,</span><span class="s7"> </span><span class="s1">type</span><span class="s4">:</span><span class="s7"> </span><span class="s2">'error'</span><span class="s7"> </span><span class="s4">});</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s2"> </span><span class="s1">finally</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>setLoading</span><span class="s4">(</span><span class="s1">false</span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">};</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// --- COMPONENTES DE VISTA ---</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">TaskCard</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> task </span><span class="s4">})</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">={</span><span class="s2">`p-4 mb-3 rounded-xl shadow-md flex justify-between items-center transition duration-300 </span><span class="s4">${</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>task</span><span class="s4">.</span><span class="s2">completed<span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">?</span><span class="s7"> </span><span class="s2">'bg-gray-100 border-l-4 border-gray-400 opacity-60'</span><span class="s7"><span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">:</span><span class="s7"> </span><span class="s2">'bg-white hover:shadow-lg hover:border-l-4 border-l-4 border-white hover:border-l-emerald-500'</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s5">`</span><span class="s4">}&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">span className</span><span class="s4">={</span><span class="s2">`font-semibold </span><span class="s4">${</span><span class="s7">task</span><span class="s4">.</span><span class="s7">completed </span><span class="s4">?</span><span class="s7"> </span><span class="s2">'text-gray-500 line-through'</span><span class="s7"> </span><span class="s4">:</span><span class="s7"> </span><span class="s2">'text-gray-700'</span><span class="s4">}</span><span class="s2">`</span><span class="s4">}&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s3">TaskIcon</span><span class="s2"> </span><span class="s1">type</span><span class="s4">={</span><span class="s2">task</span><span class="s4">.</span><span class="s1">type</span><span class="s4">}</span><span class="s2"> /&gt; </span><span class="s4">{</span><span class="s2">task</span><span class="s4">.</span><span class="s1">type</span><span class="s4">}:</span><span class="s2"> </span><span class="s4">{</span><span class="s2">task</span><span class="s4">.</span><span class="s2">text</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">span</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-sm text-amber-600 font-bold mt-1"</span><span class="s2">&gt;+</span><span class="s4">{</span><span class="s2">task</span><span class="s4">.</span><span class="s2">points</span><span class="s4">}</span><span class="s2"> </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">Puntos</span><span class="s4">&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">button</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>onClick</span><span class="s4">={()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> handleCompleteTask</span><span class="s4">(</span><span class="s2">task</span><span class="s4">.</span><span class="s2">id</span><span class="s4">,</span><span class="s2"> task</span><span class="s4">.</span><span class="s2">points</span><span class="s4">)}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>disabled</span><span class="s4">={</span><span class="s2">task</span><span class="s4">.</span><span class="s2">completed </span><span class="s4">||</span><span class="s2"> loading</span><span class="s4">}</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span>className</span><span class="s4">={</span><span class="s2">`py-2 px-4 text-sm font-bold rounded-full transition duration-150 </span><span class="s4">${</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>task</span><span class="s4">.</span><span class="s2">completed<span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">            </span></span><span class="s4">?</span><span class="s7"> </span><span class="s2">'bg-gray-300 text-gray-600 cursor-not-allowed'</span><span class="s7"><span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">            </span></span><span class="s4">:</span><span class="s7"> </span><span class="s2">'bg-emerald-500 text-white hover:bg-emerald-600 shadow-md'</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">}</span><span class="s5">`</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">{</span><span class="s2">task</span><span class="s4">.</span><span class="s2">completed </span><span class="s4">?</span><span class="s2"> </span><span class="s5">'</span><span class="s10"></span><span class="s5"> Logrado'</span><span class="s2"> </span><span class="s4">:</span><span class="s2"> </span><span class="s5">'Marcar'</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">button</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">);</span></p>
<p class="p2"><span class="s2"><span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// Funci贸n para 铆conos tem谩ticos</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">TaskIcon</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> </span><span class="s1">type</span><span class="s2"> </span><span class="s4">})</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s7"> </span><span class="s4">(</span><span class="s1">type</span><span class="s7"> </span><span class="s4">===</span><span class="s7"> </span><span class="s2">'Reciclaje'</span><span class="s4">)</span><span class="s7"> </span><span class="s1">return</span><span class="s7"> </span><span class="s2">'</span><span class="s9">伙</span><span class="s2">'</span><span class="s4">;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s1">if</span><span class="s7"> </span><span class="s4">(</span><span class="s1">type</span><span class="s7"> </span><span class="s4">===</span><span class="s7"> </span><span class="s2">'Acci贸n Eco'</span><span class="s4">)</span><span class="s7"> </span><span class="s1">return</span><span class="s7"> </span><span class="s2">'</span><span class="s9"></span><span class="s2">'</span><span class="s4">;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">return</span><span class="s2"> </span><span class="s5">'</span><span class="s10">猸</span><span class="s5">'</span><span class="s4">;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">};</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">RewardCard</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> reward </span><span class="s4">})</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"bg-white p-4 rounded-xl shadow-lg flex flex-col justify-between items-center transition duration-300 hover:shadow-xl hover:scale-[1.02]"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">span className</span><span class="s4">=</span><span class="s5">"text-5xl mb-2"</span><span class="s4">&gt;{</span><span class="s2">reward</span><span class="s4">.</span><span class="s2">emoji</span><span class="s4">}&lt;/</span><span class="s2">span</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">h3 className</span><span class="s4">=</span><span class="s2">"text-lg font-bold text-gray-700 text-center mb-2"</span><span class="s4">&gt;{</span><span class="s7">reward</span><span class="s4">.</span><span class="s7">name</span><span class="s4">}&lt;/</span><span class="s7">h3</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-sm text-gray-500 mb-4"</span><span class="s4">&gt;</span><span class="s3">Incentivo</span><span class="s2"> por tu contribuci</span><span class="s11">贸</span><span class="s2">n</span><span class="s4">.&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">button</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>onClick</span><span class="s4">={()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> handleRedeemReward</span><span class="s4">(</span><span class="s2">reward</span><span class="s4">)}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span>disabled</span><span class="s4">={</span><span class="s2">points </span><span class="s4">&lt;</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">cost </span><span class="s4">||</span><span class="s2"> loading</span><span class="s4">}</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span>className</span><span class="s4">={</span><span class="s2">`w-full py-2 text-md font-bold rounded-full transition duration-150 </span><span class="s4">${</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>points </span><span class="s4">&lt;</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">cost</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">            </span></span><span class="s4">?</span><span class="s7"> </span><span class="s2">'bg-red-400 text-white opacity-70 cursor-not-allowed'</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">            </span></span><span class="s4">:</span><span class="s7"> </span><span class="s2">'bg-yellow-500 text-white hover:bg-yellow-600 shadow-md'</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">}</span><span class="s5">`</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">{</span><span class="s2">points </span><span class="s4">&lt;</span><span class="s2"> reward</span><span class="s4">.</span><span class="s2">cost<span class="Apple-converted-space"></span></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">?</span><span class="s2"> </span><span class="s5">`Faltan </span><span class="s4">${</span><span class="s2">reward</span><span class="s4">.</span><span class="s2">cost </span><span class="s4">-</span><span class="s2"> points</span><span class="s4">}</span><span class="s5">`</span><span class="s2"><span class="Apple-converted-space"></span></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">:</span><span class="s2"> </span><span class="s5">`Canjear por </span><span class="s4">${</span><span class="s2">reward</span><span class="s4">.</span><span class="s2">cost</span><span class="s4">}</span><span class="s5"> Puntos`</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">button</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">PageHome</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> </span><span class="s4">()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"text-center p-6 bg-white rounded-xl shadow-lg"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">h2 className</span><span class="s4">=</span><span class="s2">"text-3xl font-extrabold text-emerald-600 mb-4"</span><span class="s4">&gt;</span><span class="s11">隆</span><span class="s3">Bienvenido</span><span class="s4">,</span><span class="s7"> </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">H</span><span class="s11">茅</span><span class="s7">roe</span><span class="s4">!&lt;/</span><span class="s7">h2</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-xl text-gray-600 mb-6"</span><span class="s4">&gt;</span><span class="s3">Tu</span><span class="s2"> misi</span><span class="s11">贸</span><span class="s2">n es simple</span><span class="s4">:</span><span class="s2"> </span><span class="s3">Reciclar</span><span class="s4">,</span><span class="s2"> </span><span class="s3">Cuidar</span><span class="s4">,</span><span class="s2"> </span><span class="s3">Ganar</span><span class="s4">.&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"bg-lime-50 p-4 rounded-lg border-2 border-lime-300 shadow-inner"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">p className</span><span class="s4">=</span><span class="s2">"text-5xl font-extrabold text-lime-700"</span><span class="s4">&gt;{</span><span class="s7">points</span><span class="s4">}&lt;/</span><span class="s7">p</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">p className</span><span class="s4">=</span><span class="s2">"text-lg font-semibold text-lime-800"</span><span class="s4">&gt;</span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">Puntos</span><span class="s7"> </span><span class="s3">Acumulados</span><span class="s4">&lt;/</span><span class="s7">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">div className</span><span class="s4">=</span><span class="s5">"mt-8 space-y-4"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s2">button</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>onClick</span><span class="s4">={()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> setPage</span><span class="s4">(</span><span class="s5">'tasks'</span><span class="s4">)}</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">          </span>className</span><span class="s4">=</span><span class="s2">"w-full py-3 bg-emerald-600 text-white font-bold rounded-xl text-lg shadow-md hover:bg-emerald-700 transition duration-150 flex items-center justify-center"</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s2">span className</span><span class="s4">=</span><span class="s5">"mr-2"</span><span class="s4">&gt;</span><span class="s12"></span><span class="s2"> </span><span class="s3">Misiones</span><span class="s2"> </span><span class="s3">Ecol</span><span class="s11">贸</span><span class="s2">gicas</span><span class="s4">&lt;/</span><span class="s2">span</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s7">svg xmlns</span><span class="s4">=</span><span class="s2">"http://www.w3.org/2000/svg"</span><span class="s7"> className</span><span class="s4">=</span><span class="s2">"h-5 w-5"</span><span class="s7"> viewBox</span><span class="s4">=</span><span class="s2">"0 0 20 20"</span><span class="s7"> fill</span><span class="s4">=</span><span class="s2">"currentColor"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">            </span></span><span class="s4">&lt;</span><span class="s7">path fillRule</span><span class="s4">=</span><span class="s2">"evenodd"</span><span class="s7"> d</span><span class="s4">=</span><span class="s2">"M4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4zm-1 9a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"</span><span class="s7"> clipRule</span><span class="s4">=</span><span class="s2">"evenodd"</span><span class="s7"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;/</span><span class="s2">svg</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">button</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s2">button</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>onClick</span><span class="s4">={()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> setPage</span><span class="s4">(</span><span class="s5">'rewards'</span><span class="s4">)}</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">          </span>className</span><span class="s4">=</span><span class="s2">"w-full py-3 bg-indigo-500 text-white font-bold rounded-xl text-lg shadow-md hover:bg-indigo-600 transition duration-150 flex items-center justify-center"</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s2">span className</span><span class="s4">=</span><span class="s5">"mr-2"</span><span class="s4">&gt;</span><span class="s12"></span><span class="s2"> </span><span class="s3">Tienda</span><span class="s2"> de </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">Premios</span><span class="s4">&lt;/</span><span class="s2">span</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s7">svg xmlns</span><span class="s4">=</span><span class="s2">"http://www.w3.org/2000/svg"</span><span class="s7"> className</span><span class="s4">=</span><span class="s2">"h-5 w-5"</span><span class="s7"> viewBox</span><span class="s4">=</span><span class="s2">"0 0 20 20"</span><span class="s7"> fill</span><span class="s4">=</span><span class="s2">"currentColor"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s4">&lt;</span><span class="s2">path d</span><span class="s4">=</span><span class="s5">"M5.5 12.5l5 5 5-5m-10-5l5-5 5 5"</span><span class="s2"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;/</span><span class="s2">svg</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">button</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> </span><span class="s3">PageTasks</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> </span><span class="s4">()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"p-6 bg-white rounded-xl shadow-lg"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">h2 className</span><span class="s4">=</span><span class="s2">"text-3xl font-bold text-gray-800 mb-6"</span><span class="s4">&gt;</span><span class="s12"></span><span class="s7"> </span><span class="s3">Misiones</span><span class="s7"> </span><span class="s3">Ecol</span><span class="s11">贸</span><span class="s7">gicas </span><span class="s3">Diarias</span><span class="s4">&lt;/</span><span class="s7">h2</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-sm text-gray-500 mb-4"</span><span class="s4">&gt;</span><span class="s3">Cada</span><span class="s2"> acci</span><span class="s11">贸</span><span class="s2">n suma puntos y mejora el planeta</span><span class="s4">.&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">div className</span><span class="s4">=</span><span class="s5">"space-y-4"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">{</span><span class="s2">tasks</span><span class="s4">.</span><span class="s2">length </span><span class="s4">&gt;</span><span class="s2"> </span><span class="s8">0</span><span class="s2"> </span><span class="s4">?</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>tasks</span><span class="s4">.</span><span class="s2">map</span><span class="s4">(</span><span class="s2">task </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">&lt;</span><span class="s3">TaskCard</span><span class="s2"> key</span><span class="s4">={</span><span class="s2">task</span><span class="s4">.</span><span class="s2">id</span><span class="s4">}</span><span class="s2"> task</span><span class="s4">={</span><span class="s2">task</span><span class="s4">}</span><span class="s2"> /&gt;</span><span class="s4">)</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">)</span><span class="s2"> </span><span class="s4">:</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-center text-gray-400"</span><span class="s4">&gt;</span><span class="s3">Cargando</span><span class="s2"> misiones</span><span class="s4">...&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">)}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p6"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s7"> </span><span class="s2">PageRewards</span><span class="s7"> </span><span class="s4">=</span><span class="s7"> </span><span class="s4">()</span><span class="s7"> </span><span class="s4">=&gt;</span><span class="s7"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"p-6 bg-white rounded-xl shadow-lg"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">h2 className</span><span class="s4">=</span><span class="s2">"text-3xl font-bold text-gray-800 mb-6 flex justify-between items-center"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s2">span</span><span class="s4">&gt;</span><span class="s12"></span><span class="s2"> </span><span class="s3">Tienda</span><span class="s2"> de </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">Premios</span><span class="s4">&lt;/</span><span class="s2">span</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">span className</span><span class="s4">=</span><span class="s2">"text-xl font-extrabold text-lime-700 bg-lime-100 px-3 py-1 rounded-full"</span><span class="s4">&gt;{</span><span class="s7">points</span><span class="s4">}</span><span class="s7"> </span><span class="s3">Puntos</span><span class="s4">&lt;/</span><span class="s7">span</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">h2</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-sm text-gray-500 mb-6"</span><span class="s4">&gt;</span><span class="s3">Canjea</span><span class="s2"> tus </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">Puntos</span><span class="s2"> por recompensas que te ayudar</span><span class="s11">谩</span><span class="s2">n a seguir cuidando el planeta</span><span class="s4">.&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">{</span><span class="s3">REWARDS</span><span class="s4">.</span><span class="s2">map</span><span class="s4">(</span><span class="s2">reward </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">&lt;</span><span class="s3">RewardCard</span><span class="s2"> key</span><span class="s4">={</span><span class="s2">reward</span><span class="s4">.</span><span class="s2">id</span><span class="s4">}</span><span class="s2"> reward</span><span class="s4">={</span><span class="s2">reward</span><span class="s4">}</span><span class="s2"> /&gt;</span><span class="s4">)}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">// --- RENDERIZADO PRINCIPAL ---</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">if</span><span class="s2"> </span><span class="s4">(!</span><span class="s2">appInitialized</span><span class="s4">)</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">return</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"flex items-center justify-center min-h-screen bg-emerald-50"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"text-center p-8 rounded-xl bg-white shadow-2xl"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"</span><span class="s7">&gt;&lt;/div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-lg font-semibold text-gray-700"</span><span class="s4">&gt;</span><span class="s3">Conectando</span><span class="s2"> con la </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">Red</span><span class="s4">...&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s2">p className</span><span class="s4">=</span><span class="s5">"text-sm text-gray-500 mt-2"</span><span class="s4">&gt;</span><span class="s3">Iniciando</span><span class="s2"> sesi</span><span class="s11">贸</span><span class="s2">n de </span><span class="s3">Eco</span><span class="s4">-</span><span class="s3">H</span><span class="s11">茅</span><span class="s2">roe</span><span class="s4">.&lt;/</span><span class="s2">p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">);</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">}</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s1">const</span><span class="s2"> currentPage </span><span class="s4">=</span><span class="s2"> </span><span class="s4">{</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s5">'home'</span><span class="s4">:</span><span class="s2"> </span><span class="s4">&lt;</span><span class="s3">PageHome</span><span class="s2"> /&gt;</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s5">'tasks'</span><span class="s4">:</span><span class="s2"> </span><span class="s4">&lt;</span><span class="s3">PageTasks</span><span class="s2"> /&gt;</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s5">'rewards'</span><span class="s4">:</span><span class="s2"> </span><span class="s4">&lt;</span><span class="s3">PageRewards</span><span class="s2"> /&gt;</span><span class="s4">,</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">}[</span><span class="s2">page</span><span class="s4">];</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p7"><span class="s7"><span class="Apple-converted-space">  </span></span><span class="s2">return</span><span class="s7"> </span><span class="s4">(</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"min-h-screen bg-emerald-50 p-4 sm:p-8"</span><span class="s4">&gt;</span></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">{</span><span class="s2">/* Notificaci贸n Flotante */</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">{</span><span class="s2">notification</span><span class="s4">.</span><span class="s2">message </span><span class="s4">&amp;&amp;</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s2">div<span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">          </span>className</span><span class="s4">={</span><span class="s2">`fixed top-4 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded-full shadow-lg text-white font-semibold transition-all duration-300 z-50 </span><span class="s4">${</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">            </span>notification</span><span class="s4">.</span><span class="s1">type</span><span class="s2"> </span><span class="s4">===</span><span class="s2"> </span><span class="s5">'success'</span><span class="s2"> </span><span class="s4">?</span><span class="s2"> </span><span class="s5">'bg-green-600'</span><span class="s2"> </span><span class="s4">:</span><span class="s2"> </span><span class="s5">'bg-red-600'</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">}</span><span class="s5">`</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span>onClick</span><span class="s4">={()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> setNotification</span><span class="s4">({</span><span class="s2"> message</span><span class="s4">:</span><span class="s2"> </span><span class="s5">''</span><span class="s4">,</span><span class="s2"> </span><span class="s1">type</span><span class="s4">:</span><span class="s2"> </span><span class="s5">''</span><span class="s2"> </span><span class="s4">})}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">{</span><span class="s2">notification</span><span class="s4">.</span><span class="s2">message</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">)}</span></p>
<p class="p2"><span class="s2"><span class="Apple-converted-space">     </span></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">header className</span><span class="s4">=</span><span class="s5">"text-center mb-8"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">h1 className</span><span class="s4">=</span><span class="s2">"text-4xl font-bold text-gray-800"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s3">ECO</span><span class="s4">-</span><span class="s3">H</span><span class="s11"></span><span class="s3">ROE</span><span class="s2"> </span><span class="s12"></span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">h1</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">p className</span><span class="s4">=</span><span class="s2">"text-sm text-gray-500"</span><span class="s4">&gt;</span><span class="s3">ID</span><span class="s7"> de </span><span class="s3">H</span><span class="s11">茅</span><span class="s7">roe</span><span class="s4">:</span><span class="s7"> </span><span class="s4">&lt;</span><span class="s7">span className</span><span class="s4">=</span><span class="s2">"font-mono text-xs bg-gray-200 p-1 rounded-sm"</span><span class="s4">&gt;{</span><span class="s7">userId </span><span class="s4">||</span><span class="s7"> </span><span class="s2">'Cargando...'</span><span class="s4">}&lt;/</span><span class="s7">span&gt;&lt;/p</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">header</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s2">main className</span><span class="s4">=</span><span class="s5">"max-w-4xl mx-auto pb-12"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">{</span><span class="s2">currentPage</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">main</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">{</span><span class="s2">/* Barra de Navegaci贸n Fija (Responsive) */</span><span class="s4">}</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;</span><span class="s7">div className</span><span class="s4">=</span><span class="s2">"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-xl"</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;</span><span class="s7">nav className</span><span class="s4">=</span><span class="s2">"flex justify-around max-w-lg mx-auto py-2"</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s3">NavButton</span><span class="s2"> pageKey</span><span class="s4">=</span><span class="s5">"home"</span><span class="s2"> currentPage</span><span class="s4">={</span><span class="s2">page</span><span class="s4">}</span><span class="s2"> setPage</span><span class="s4">={</span><span class="s2">setPage</span><span class="s4">}</span><span class="s2"> icon</span><span class="s4">=</span><span class="s5">"</span><span class="s10"></span><span class="s5">"</span><span class="s2"> label</span><span class="s4">=</span><span class="s5">"Inicio"</span><span class="s2"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s3">NavButton</span><span class="s2"> pageKey</span><span class="s4">=</span><span class="s5">"tasks"</span><span class="s2"> currentPage</span><span class="s4">={</span><span class="s2">page</span><span class="s4">}</span><span class="s2"> setPage</span><span class="s4">={</span><span class="s2">setPage</span><span class="s4">}</span><span class="s2"> icon</span><span class="s4">=</span><span class="s5">"</span><span class="s10"></span><span class="s5">"</span><span class="s2"> label</span><span class="s4">=</span><span class="s5">"Misiones"</span><span class="s2"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">          </span></span><span class="s4">&lt;</span><span class="s3">NavButton</span><span class="s2"> pageKey</span><span class="s4">=</span><span class="s5">"rewards"</span><span class="s2"> currentPage</span><span class="s4">={</span><span class="s2">page</span><span class="s4">}</span><span class="s2"> setPage</span><span class="s4">={</span><span class="s2">setPage</span><span class="s4">}</span><span class="s2"> icon</span><span class="s4">=</span><span class="s5">"</span><span class="s10"></span><span class="s5">"</span><span class="s2"> label</span><span class="s4">=</span><span class="s5">"Premios"</span><span class="s2"> /&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s4">&lt;/</span><span class="s2">nav</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">);</span></p>
<p class="p4"><span class="s2">};</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p3"><span class="s2">// Componente para botones de navegaci贸n</span></p>
<p class="p1"><span class="s1">const</span><span class="s2"> </span><span class="s3">NavButton</span><span class="s2"> </span><span class="s4">=</span><span class="s2"> </span><span class="s4">({</span><span class="s2"> pageKey</span><span class="s4">,</span><span class="s2"> currentPage</span><span class="s4">,</span><span class="s2"> setPage</span><span class="s4">,</span><span class="s2"> icon</span><span class="s4">,</span><span class="s2"> label </span><span class="s4">})</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> </span><span class="s4">(</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">&lt;</span><span class="s2">button</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span>onClick</span><span class="s4">={()</span><span class="s2"> </span><span class="s4">=&gt;</span><span class="s2"> setPage</span><span class="s4">(</span><span class="s2">pageKey</span><span class="s4">)}</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span>className</span><span class="s4">={</span><span class="s2">`flex flex-col items-center p-2 rounded-lg transition duration-150 ease-in-out </span><span class="s4">${</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">      </span>currentPage </span><span class="s4">===</span><span class="s2"> pageKey<span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">?</span><span class="s7"> </span><span class="s2">'text-emerald-600 bg-emerald-100 shadow-inner'</span><span class="s7"><span class="Apple-converted-space"></span></span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">        </span></span><span class="s4">:</span><span class="s7"> </span><span class="s2">'text-gray-500 hover:text-emerald-500'</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">}</span><span class="s5">`</span><span class="s4">}</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s2">span className</span><span class="s4">=</span><span class="s5">"text-2xl"</span><span class="s4">&gt;{</span><span class="s2">icon</span><span class="s4">}&lt;/</span><span class="s2">span</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s7"><span class="Apple-converted-space">    </span></span><span class="s4">&lt;</span><span class="s7">span className</span><span class="s4">=</span><span class="s2">"text-xs font-semibold mt-1 hidden sm:block"</span><span class="s4">&gt;{</span><span class="s7">label</span><span class="s4">}&lt;/</span><span class="s7">span</span><span class="s4">&gt;</span></p>
<p class="p1"><span class="s2"><span class="Apple-converted-space">  </span></span><span class="s4">&lt;/</span><span class="s2">button</span><span class="s4">&gt;</span></p>
<p class="p4"><span class="s2">);</span></p>
<p class="p2"><span class="s6"></span><br></p>
<p class="p7"><span class="s2">export</span><span class="s7"> </span><span class="s2">default</span><span class="s7"> </span><span class="s3">App</span><span class="s4">;</span></p>
</body>
</html>
